<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小马博客</title>
  
  <subtitle>欢迎来到我的小窝</subtitle>
  <link href="http://blog.mpcloud.top/atom.xml" rel="self"/>
  
  <link href="http://blog.mpcloud.top/"/>
  <updated>2021-05-01T16:00:40.198Z</updated>
  <id>http://blog.mpcloud.top/</id>
  
  <author>
    <name>小马</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>自建Frp内网穿透</title>
    <link href="http://blog.mpcloud.top/posts/3db97f61.html"/>
    <id>http://blog.mpcloud.top/posts/3db97f61.html</id>
    <published>2021-05-01T16:00:40.206Z</published>
    <updated>2021-05-01T16:00:40.198Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><h3 id="使用frp在vps上搭建属于自己的内网穿透服务"><a href="#使用frp在vps上搭建属于自己的内网穿透服务" class="headerlink" title="使用frp在vps上搭建属于自己的内网穿透服务"></a>使用frp在vps上搭建属于自己的内网穿透服务</h3><ul><li><strong>服务端</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;github.com&#x2F;fatedier&#x2F;frp&#x2F;releases&#x2F;download&#x2F;v0.36.2&#x2F;frp_0.36.2_linux_amd64.tar.gz </span><br><span class="line">tar -zxvf frp*.tar.gz &amp;&amp; cd frp_0.36.2_linux_amd64</span><br></pre></td></tr></table></figure></li><li>编辑frps.ini 写入服务端配置文件<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">bind_addr</span> = <span class="number">0.0</span>.<span class="number">0.0</span>    <span class="comment">#服务端IP</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">7000</span>       <span class="comment">#服务端端口</span></span><br><span class="line"><span class="attr">kcp_bind_port</span> = <span class="number">7000</span>       <span class="comment">#服务端kcp协议端口</span></span><br><span class="line"><span class="attr">dashboard_addr</span> = <span class="number">0.0</span>.<span class="number">0.0</span>   <span class="comment">#在线仪表盘IP</span></span><br><span class="line"><span class="attr">dashboard_port</span> = <span class="number">8888</span>      <span class="comment">#仪表盘端口</span></span><br><span class="line"><span class="attr">dashboard_user</span> = admin     <span class="comment">#仪表盘账号</span></span><br><span class="line"><span class="attr">dashboard_pwd</span> = <span class="number">123456</span>     <span class="comment">#仪表盘密码</span></span><br><span class="line"><span class="attr">token</span> = <span class="number">123456</span>              <span class="comment">#连接密钥</span></span><br><span class="line"><span class="attr">privilege_mode</span> = <span class="literal">true</span>      <span class="comment">#启用特权模式</span></span><br><span class="line"><span class="attr">privilege_token</span> = <span class="number">12345678</span> <span class="comment">#特权模式密码</span></span><br><span class="line"><span class="attr">allow_ports</span> = <span class="number">4000</span>-<span class="number">50000</span></span><br><span class="line"><span class="comment">#限定客户端可穿透的端口 删掉此项则无限制</span></span><br><span class="line"><span class="attr">authentication_timeout</span> = <span class="number">0</span>  <span class="comment">#frps不对客户端时间戳进行超时校验</span></span><br><span class="line"><span class="attr">custom_404_page</span> = https://love.<span class="number">1919810</span>.com/<span class="number">404</span>.html <span class="comment">#自定义404页面</span></span><br></pre></td></tr></table></figure><h3 id="防火墙开放端口"><a href="#防火墙开放端口" class="headerlink" title="防火墙开放端口"></a>防火墙开放端口</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --add-port&#x3D;22&#x2F;tcp --add-port&#x3D;80&#x2F;tcp  #允许22 80端口通过防火墙</span><br><span class="line">firewall-cmd --permanent --add-port&#x3D;4000-50000&#x2F;tcp  #设定允许的端口池</span><br><span class="line">firewall-cmd --reload  #刷新防火墙规则</span><br></pre></td></tr></table></figure><h3 id="使用systemctl-工具让服务端开机自启动"><a href="#使用systemctl-工具让服务端开机自启动" class="headerlink" title="使用systemctl 工具让服务端开机自启动"></a>使用systemctl 工具让服务端开机自启动</h3></li><li>编辑当前 systemd目录下的frs.service 配置文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;Frp Server Service</span><br><span class="line">After&#x3D;network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;simple</span><br><span class="line">ExecStart&#x3D; frps可执行文件绝对路径 -c  frps.ini配置文件绝对路径</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br></pre></td></tr></table></figure></li><li><p>加载frps.service文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl  enable  &#96;pwd&#96;&#x2F;systemd&#x2F;frps.service</span><br><span class="line">sudo systemctl  daemon-reload</span><br><span class="line">sudo systemctl  restart frps.service</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://gitee.com/mpcloud/my_picture_bed/raw/master/c3aac432.jpg" width="1080" alt="效果图"></img></p></li><li><p><strong>客户端</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;github.com&#x2F;fatedier&#x2F;frp&#x2F;releases&#x2F;download&#x2F;v0.36.2&#x2F;frp_0.36.2_linux_arm64.tar.gz </span><br><span class="line">tar -zxvf frp*.tar.gz &amp;&amp; cd frp_0.36.2_linux_arm64</span><br></pre></td></tr></table></figure></li><li>编辑客户端配置文件frpc.ini<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">server_addr &#x3D;   #服务端IP或域名</span><br><span class="line">server_port &#x3D; 7000  #服务端监听端口</span><br><span class="line">token &#x3D;  123456  #服务端链接密钥</span><br><span class="line">privilege_token &#x3D; 12345678 #特权模式密码</span><br><span class="line">dns_server &#x3D; 8.8.8.8 #指定dns解析地址</span><br><span class="line"></span><br><span class="line">[web]           #穿透服务名</span><br><span class="line">privilege_mode &#x3D; true #启用特权模式</span><br><span class="line">local_ip &#x3D; 127.0.0.1  #本地IP</span><br><span class="line">local_port &#x3D; 8080   #需穿透的本地服务端口</span><br><span class="line">type &#x3D; http        #穿透类型</span><br><span class="line">remote_port &#x3D; 6666  #设定远端使用的端口</span><br><span class="line">subdomain &#x3D;  #web域名</span><br><span class="line">use_encryption &#x3D; true  #启用加密</span><br><span class="line">use_compression &#x3D; true #启用压缩</span><br></pre></td></tr></table></figure></li><li>启动穿透隧道<br>./frpc -c frpc.ini<br><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://gitee.com/mpcloud/my_picture_bed/raw/master/86b28955.jpg" width="1080" alt="效果"></img></li></ul>]]></content>
    
    
    <summary type="html">在vps上自建属于自己的内网穿透服务</summary>
    
    
    
    <category term="linux" scheme="http://blog.mpcloud.top/categories/linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Termux笔记-Sed的各种用法</title>
    <link href="http://blog.mpcloud.top/posts/343b4e8c.html"/>
    <id>http://blog.mpcloud.top/posts/343b4e8c.html</id>
    <published>2021-05-01T15:57:05.402Z</published>
    <updated>2021-05-01T15:57:05.402Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="termux" scheme="http://blog.mpcloud.top/categories/termux/"/>
    
    
  </entry>
  
  <entry>
    <title>Termux笔记-FFmpeg的各种用法</title>
    <link href="http://blog.mpcloud.top/posts/364203f8.html"/>
    <id>http://blog.mpcloud.top/posts/364203f8.html</id>
    <published>2021-05-01T15:51:37.674Z</published>
    <updated>2021-05-01T15:51:37.674Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><h3 id="使用FFmpeg剪辑mp3文件"><a href="#使用FFmpeg剪辑mp3文件" class="headerlink" title="使用FFmpeg剪辑mp3文件"></a>使用FFmpeg剪辑mp3文件</h3><p><strong>取出从音频开始处到2秒后的音频</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.mp3 -vn -acodec copy -ss 00:00:00 -t 2 output.mp3</span><br></pre></td></tr></table></figure></p><h3 id="使用FFmpeg剪辑mp4文件"><a href="#使用FFmpeg剪辑mp4文件" class="headerlink" title="使用FFmpeg剪辑mp4文件"></a>使用FFmpeg剪辑mp4文件</h3><p><strong>从视频开始分割到10秒视频命令如下：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -ss 00:00:00 -i input.mp4 -c copy -t 10  output.mp4</span><br></pre></td></tr></table></figure></p><h3 id="使用FFmpeg提取视频文件中的音轨"><a href="#使用FFmpeg提取视频文件中的音轨" class="headerlink" title="使用FFmpeg提取视频文件中的音轨"></a>使用FFmpeg提取视频文件中的音轨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.mp4  -vn -vcodec copy output.mp3</span><br></pre></td></tr></table></figure><h3 id="使用FFmpeg将视频转为GIF动图"><a href="#使用FFmpeg将视频转为GIF动图" class="headerlink" title="使用FFmpeg将视频转为GIF动图"></a>使用FFmpeg将视频转为GIF动图</h3><p><strong>将视频开始处往后3秒的片段转换成一个分辨率640x360 帧率15的GIF</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -ss 00:00:00 -t 3 -i input.mp4 -s 640x360 -r 15 output.gif</span><br></pre></td></tr></table></figure></p><h3 id="使用FFmpeg将ass字幕文件烧录进mp4"><a href="#使用FFmpeg将ass字幕文件烧录进mp4" class="headerlink" title="使用FFmpeg将ass字幕文件烧录进mp4"></a>使用FFmpeg将ass字幕文件烧录进mp4</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -vf ass&#x3D;subtitle.ass -y output.mp4</span><br></pre></td></tr></table></figure><h3 id="使用FFmpeg将图片转为GIF动图"><a href="#使用FFmpeg将图片转为GIF动图" class="headerlink" title="使用FFmpeg将图片转为GIF动图"></a>使用FFmpeg将图片转为GIF动图</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -r 5 -f concat -i filelist.txt output.gif pause</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="termux" scheme="http://blog.mpcloud.top/categories/termux/"/>
    
    
  </entry>
  
  <entry>
    <title>Termux笔记-批量移除电池优化白名单</title>
    <link href="http://blog.mpcloud.top/posts/dbe891cd.html"/>
    <id>http://blog.mpcloud.top/posts/dbe891cd.html</id>
    <published>2021-04-29T21:00:28.728Z</published>
    <updated>2021-04-29T21:00:28.728Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><h3 id="基于shizuku"><a href="#基于shizuku" class="headerlink" title="基于shizuku"></a>基于shizuku</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/env bash</span></span><br><span class="line"></span><br><span class="line">shizuku dumpsys deviceidle whitelist | grep user | sed <span class="string">&#x27;s/user,//g&#x27;</span> | sed <span class="string">&#x27;s/[0-9]//g&#x27;</span> | sed <span class="string">&#x27;s/,//g&#x27;</span> | sed <span class="string">&#x27;s/^/shizuku dumpsys deviceidle whitelist -/g&#x27;</span> |sh</span><br><span class="line"><span class="comment">#所有user级别应用移出优化白名单</span></span><br><span class="line"><span class="comment">#将QQ和微信重新加入优化白名单</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> com.tencent.mobileqq com.tencent.mm</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    shizuku dumpsys deviceidle whitelist +<span class="variable">$i</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span>已重新加入优化白名单&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">利用shizuku免root批量移除电池优化白名单</summary>
    
    
    
    <category term="termux" scheme="http://blog.mpcloud.top/categories/termux/"/>
    
    
  </entry>
  
  <entry>
    <title>基于Shizuku的预装应用卸载脚本</title>
    <link href="http://blog.mpcloud.top/posts/c04ecb87.html"/>
    <id>http://blog.mpcloud.top/posts/c04ecb87.html</id>
    <published>2021-04-29T20:39:41.324Z</published>
    <updated>2021-04-29T20:39:41.320Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><p><a href="https://gitee.com/mpcloud/mypicture/raw/master/remove.sh">https://gitee.com/mpcloud/mypicture/raw/master/remove.sh</a></p><ul><li>如何使用<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -c <span class="string">&quot;<span class="subst">$(curl -Lv https://gitee.com/mpcloud/mypicture/raw/master/remove.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://gitee.com/mpcloud/mypicture/raw/master/edad323b.jpg" alt="效果"></li></ul>]]></content>
    
    
    <summary type="html">使用shizuku在无root机器上免root卸载系统预装软件</summary>
    
    
    
    <category term="termux" scheme="http://blog.mpcloud.top/categories/termux/"/>
    
    
  </entry>
  
  <entry>
    <title>Termux笔记-免Root使用adb</title>
    <link href="http://blog.mpcloud.top/posts/2330e9bb.html"/>
    <id>http://blog.mpcloud.top/posts/2330e9bb.html</id>
    <published>2021-04-27T05:34:37.000Z</published>
    <updated>2021-05-01T16:06:02.962Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><h3 id="利用-magisk-模块-ADB-amp-Fastboot-for-Android-NDK-在termux中免root使用-adb-amp-fastboot"><a href="#利用-magisk-模块-ADB-amp-Fastboot-for-Android-NDK-在termux中免root使用-adb-amp-fastboot" class="headerlink" title="利用 magisk 模块 ADB &amp; Fastboot for Android NDK 在termux中免root使用 adb &amp; fastboot"></a>利用 <code>magisk</code> 模块 <code>ADB &amp; Fastboot for Android NDK</code> 在<code>termux</code>中免root使用 <code>adb &amp; fastboot</code></h3><ul><li>克隆magisk模块作者开源的仓库<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p $PREFIX&#x2F;local&#x2F;bin &amp;&amp; git clone https:&#x2F;&#x2F;github.com&#x2F;Magisk-Modules-Repo&#x2F;adb-ndk $PREFIX&#x2F;local&#x2F;bin&#x2F;adb-ndk &amp;&amp; chmod +x -R $PREFIX&#x2F;local&#x2F;bin&#x2F;adb-ndk&#x2F;bin</span><br></pre></td></tr></table></figure></li><li>将克隆下来的仓库加入termux环境变量并使其立即生效<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#39;export PATH&#x3D;&quot;$PATH:$PREFIX&#x2F;local&#x2F;bin&#x2F;adb-ndk&#x2F;bin&quot;&#39; &gt;&gt; ~&#x2F;.bashrc &amp;&amp; source ~&#x2F;.bashrc </span><br></pre></td></tr></table></figure></li><li>验证是否成功生效(居然支持adb pair 哈哈 )<br><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://gitee.com/mpcloud/my_picture_bed/raw/master/6ba0ddab.jpg" alt="验证"></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="termux" scheme="http://blog.mpcloud.top/categories/termux/"/>
    
    
  </entry>
  
  <entry>
    <title>Termux笔记-解决Am命令出现[1] 9205 Abort</title>
    <link href="http://blog.mpcloud.top/posts/1e50c00b.html"/>
    <id>http://blog.mpcloud.top/posts/1e50c00b.html</id>
    <published>2021-04-25T12:17:46.000Z</published>
    <updated>2021-04-29T20:53:26.848Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg reinstall termux-am</span><br></pre></td></tr></table></figure><p>重新安装termux-am 包即可</p><p>我写了一个小脚本 遍历所有已安装的包进行重新安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/env bash</span></span><br><span class="line">bin=`pkg list-installed | awk <span class="string">&#x27;&#123; print $1&#125;&#x27;</span> | sed <span class="string">&#x27;s/...........$//g&#x27;</span>`</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$bin</span>                                                                    <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;正在重新安装<span class="variable">$i</span>包&quot;</span> &amp;&amp; pkg reinstall <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    
    <summary type="html">解决termux安装jdk后am命令出现 [1] 9205 abort</summary>
    
    
    
    <category term="termux" scheme="http://blog.mpcloud.top/categories/termux/"/>
    
    
  </entry>
  
  <entry>
    <title>Termux笔记</title>
    <link href="http://blog.mpcloud.top/posts/d12c2325.html"/>
    <id>http://blog.mpcloud.top/posts/d12c2325.html</id>
    <published>2021-04-25T04:50:49.000Z</published>
    <updated>2021-04-28T06:38:58.975Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><h1 id="使用-Termux-镜像"><a href="#使用-Termux-镜像" class="headerlink" title="使用 Termux 镜像"></a>使用 Termux 镜像</h1><p>在较新版的 Termux 中，官方提供了图形界面（TUI）来半自动替换镜像，推荐使用该种方式以规避其他风险。 在 Termux 中执行如下命令<br><code>termux-change-repo</code></p><h2 id="命令行替换"><a href="#命令行替换" class="headerlink" title="命令行替换"></a>命令行替换</h2><p>使用如下命令行替换官方源为 TUNA 镜像源<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/termux-packages-24 stable main@&#x27;</span> <span class="variable">$PREFIX</span>/etc/apt/sources.list</span><br><span class="line">sed -i <span class="string">&#x27;s@^\(deb.*games stable\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/game-packages-24 games stable@&#x27;</span> <span class="variable">$PREFIX</span>/etc/apt/sources.list.d/game.list</span><br><span class="line">sed -i <span class="string">&#x27;s@^\(deb.*science stable\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/science-packages-24 science stable@&#x27;</span> <span class="variable">$PREFIX</span>/etc/apt/sources.list.d/science.list</span><br><span class="line">apt update &amp;&amp; apt upgrade</span><br></pre></td></tr></table></figure></p><h3 id="配置openjdk环境"><a href="#配置openjdk环境" class="headerlink" title="配置openjdk环境"></a>配置openjdk环境</h3><ol><li>下载 <code>openjdk</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/Lzhiyong/termux-ndk/releases/download/openjdk/openjdk-11.0.1.tar.xz</span><br></pre></td></tr></table></figure></li><li>解压到 <code>$PREFIX/local</code> (路径可以自定义 配置环境变量的时候能找到就行)<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xJvf openjdk-11.0.1.tar.xz -C <span class="variable">$PREFIX</span>/<span class="built_in">local</span>/openjdk-11</span><br></pre></td></tr></table></figure></li><li>加入环境变量并使其立即生效（以.zshrc为例）<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export JAVA_HOME=&quot;$PREFIX/local/openjdk-11&quot;\nexport PATH=&quot;$PATH:$JAVA_HOME/bin&quot;&#x27;</span> &gt;&gt; ~/.zshrc  &amp;&amp; <span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure></li><li>测试是否成功<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>显示java版本信息便是配置成功</li></ol><p><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://gitee.com/mpcloud/my_picture_bed/raw/master/ec098c0b3fd24df6c8e16ac1956fbcc1960cbc9e.jpg" alt="显示java版本信息便是配置成功"></p>]]></content>
    
    
    <summary type="html">学习termux的笔记 (1)</summary>
    
    
    
    <category term="termux" scheme="http://blog.mpcloud.top/categories/termux/"/>
    
    
  </entry>
  
  <entry>
    <title>解包/打包system.new.dat.br</title>
    <link href="http://blog.mpcloud.top/posts/93f66722.html"/>
    <id>http://blog.mpcloud.top/posts/93f66722.html</id>
    <published>2020-06-11T17:51:20.000Z</published>
    <updated>2021-04-28T06:39:20.175Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><h2 id="把system-new-dat-br转换成system-new-dat文件"><a href="#把system-new-dat-br转换成system-new-dat文件" class="headerlink" title="把system.new.dat.br转换成system.new.dat文件"></a>把system.new.dat.br转换成system.new.dat文件</h2><p>安装<code>brotli</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install brotli</span><br></pre></td></tr></table></figure><br>解压官方卡刷包,进入目录执行命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brotli -d system.new.dat.br -o system.new.dat</span><br></pre></td></tr></table></figure><br>等待几分钟即可转换成功</p><h2 id="把system-new-dat转换成system-img"><a href="#把system-new-dat转换成system-img" class="headerlink" title="把system.new.dat转换成system.img"></a>把system.new.dat转换成system.img</h2><p>执行下方的命令获取<code>sdat2img.py</code>脚本<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install curl python -y &amp;&amp; curl -O  https://raw.githubusercontent.com/xpirt/sdat2img/master/sdat2img.py &amp;&amp; chmod +x sdat2img.py</span><br></pre></td></tr></table></figure><br>运行<code>sdat2img.py</code>脚本<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./sdat2img.py system.transfer.list system.new.dat system.img</span><br></pre></td></tr></table></figure><br>等待执行成功，脚本将会在当前目录下输出<code>system.img</code>文件</p><h2 id="挂载system-img镜像进行查看"><a href="#挂载system-img镜像进行查看" class="headerlink" title="挂载system.img镜像进行查看"></a>挂载system.img镜像进行查看</h2><p>创建一个空的文件夹,比如<code>system</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir  system</span><br></pre></td></tr></table></figure><br>挂载<code>system.img</code>镜像至刚刚新增的<code>system</code>文件夹<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -o loop system.img  system</span><br></pre></td></tr></table></figure><br>现在，你可以使用<code>ls</code>命令进入<code>system</code>文件夹查看镜像内的文件了.</p><h2 id="将修改后的文件打包回去"><a href="#将修改后的文件打包回去" class="headerlink" title="将修改后的文件打包回去"></a>将修改后的文件打包回去</h2><p>获取<code>make_ext4fs</code>工具<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://github.com/Loren-Yi/make_ext4fs/raw/master/make_ext4fs &amp;&amp; chmod +x make_ext4fs</span><br></pre></td></tr></table></figure><br>使用 <code>make_ext4fs</code>工具打包<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./make_ext4fs -s  -S file_contexts -l 2048M -a system new_system.img system/</span><br></pre></td></tr></table></figure><br>命令参数说明：<br>// -s 表示安静处理，不输出动作，可以不带该参数<br>// -T 表示Unix时间戳，对system.img中的文件设置修改时间，执行“<br>date +%s”获取某个时间点的时间戳,也可以直接不用-T 1421464178<br>// -S 表示sepolicy 的file_contexts，把该文件放到此目录下，文件取自官方system/root路径或者卡刷包自带（解压内核，在内核里面）<br>// -l 表示最大的文件大小（受限于分区大小）；可以ls -l 当前转格式出来的system大小、单位也可以为MB<br>// -a 表示Android的mount点，比如system、userdata、recovery<br>// new_system.img 表示输出文件名<br>// system/ 表示输入目录，该目录下有framework、app、bin等目录</p>]]></content>
    
    
    <summary type="html">Linux端将system.new.dat.br转system.img并解包/打包</summary>
    
    
    
    <category term="Linux" scheme="http://blog.mpcloud.top/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Hexo博客的一些美化</title>
    <link href="http://blog.mpcloud.top/posts/5a20745a.html"/>
    <id>http://blog.mpcloud.top/posts/5a20745a.html</id>
    <published>2020-05-19T15:10:32.000Z</published>
    <updated>2021-04-10T02:45:43.680Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><p>本文所用到的主题版本：<code>*v7.7.2版本*</code></p><h2 id="更改背景图"><a href="#更改背景图" class="headerlink" title="更改背景图"></a>更改背景图</h2><p>在Hexo主目录下的 <code>source/_data/styles.styl</code>中添加下方的代码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://gitee.com/maping666/image/raw/master/background.png</span>);</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-attachment</span>:fixed;</span><br><span class="line">  <span class="attribute">background-size</span>:<span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="添加动态背景"><a href="#添加动态背景" class="headerlink" title="添加动态背景"></a>添加动态背景</h2><ol><li><p>基于<code>canvas-nest.js</code>  的动态背景</p><p>  项目地址： <a href="https://github.com/hustcc/canvas-nest.js">点我开始传送</a></p><p> 中文文档： <a href="https://github.com/hustcc/canvas-nest.js/blob/master/README-zh.md">点我开始传送</a></p></li></ol><p>主目录的<code>source/_data/footer.swig</code> 文件中添加下方的代码</p><div class="table-container"><table><thead><tr><th style="text-align:left">参数</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left">color</td><td>线条颜色, 默认: ‘0,0,0’   三个数字分别为(R,G,B) , 注意用半角” , “ 分割</td></tr><tr><td style="text-align:left">opacity</td><td>线条透明度（0~1）, 默认: 0.5</td></tr><tr><td style="text-align:left">count</td><td>线条的总数量, 默认: 100</td></tr><tr><td style="text-align:left">zIndex</td><td>背景的 z-index 属性用于控制所在层的位置, 默认: -1</td></tr><tr><td style="text-align:left">pointColor</td><td>交点颜色, 默认: ‘0,0,0’ ；三个数字分别为(R,G,B)，注意用半角” , “分割</td></tr></tbody></table></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script color=<span class="string">&quot;0,0,0&quot;</span> opacity=<span class="string">&quot;0.5&quot;</span> zIndex=<span class="string">&quot;-1&quot;</span> count=<span class="string">&quot;100&quot;</span> src=<span class="string">&quot;https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><ol><li><p>基于<code>particles.js</code>  有丰富配置选项, 可以对漂浮线的数量, 密度,  走势, 吸引范围, 速度, 等选项进行配置, 功能强大.</p><p> 开源仓库地址： <a href="https://github.com/VincentGarreau/particles.js/">点我开始传送</a></p></li></ol><h2 id="文章样式美化"><a href="#文章样式美化" class="headerlink" title="文章样式美化"></a>文章样式美化</h2><h3 id="文章添加分块"><a href="#文章添加分块" class="headerlink" title="文章添加分块"></a>文章添加分块</h3><p>在主题目录下的<code>source/css/_common/components/post/post.styl</code> 文件中找到<code>.use-motion</code> 的<code>.post-block</code>函数  按照下面的代码进行修改</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.use-motion</span> &#123;</span><br><span class="line">  if (hexo-config(&#x27;motion.transition.post_block&#x27;)) &#123;</span><br><span class="line">    <span class="selector-class">.post-block</span> &#123;</span><br><span class="line">   <span class="attribute">margin-top</span>: auto; //自适应的上边距</span><br><span class="line">   <span class="attribute">margin-bottom</span>: <span class="number">18px</span>; //下边距</span><br><span class="line">   <span class="attribute">padding</span>: <span class="number">25px</span>; //填充内边距的宽度</span><br><span class="line">   -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">5</span>); //适配chrome</span><br><span class="line">   -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">5</span>); //适配火狐</span><br><span class="line">&#125;</span><br><span class="line"> <span class="selector-class">.pagination</span>, <span class="selector-class">.comments</span> &#123;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="给分块加上自适应高度"><a href="#给分块加上自适应高度" class="headerlink" title="给分块加上自适应高度"></a>给分块加上自适应高度</h3><p>编辑主题目录下的 <code>source/css/_common/components/post/post-eof.styl</code>  修改<code>margin</code> 的值为<code>auto</code> 即可自适应高度.   <code>height</code> 的值是<code>略读全文</code> 按钮到文章分块的距离 </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-eof</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>0;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line"><span class="selector-class">.post-block</span><span class="selector-pseudo">:last-of-type</span> &amp; &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="文章底部留白高度自适应"><a href="#文章底部留白高度自适应" class="headerlink" title="文章底部留白高度自适应"></a>文章底部留白高度自适应</h3><p>在主题目录下  编辑<code>source/css/_common/components/post/post-header.styl</code> 文件  找到下方的代码块修改 <code>margin</code>的值为<code>auto</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-meta</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: $grey-dark;</span><br><span class="line">  <span class="attribute">font-family</span>: $font-family-posts;</span><br><span class="line">  <span class="attribute">font-size</span>: $font-size-smallest;</span><br><span class="line">  <span class="attribute">margin</span>: auto; //上下，左右皆自适应</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="添加统计系统"><a href="#添加统计系统" class="headerlink" title="添加统计系统"></a>添加统计系统</h2><h3 id="卜算子统计"><a href="#卜算子统计" class="headerlink" title="卜算子统计"></a>卜算子统计</h3><p>将下方的代码覆盖到主题目录下的  <code>layout/_third-party/statistics/busuanzi-counter.swig</code>  文件中</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;%- if theme<span class="selector-class">.busuanzi_count</span><span class="selector-class">.enable</span> %&#125;</span><br><span class="line">&lt;div class=&quot;busuanzi-count&quot;&gt;</span><br><span class="line">  &lt;script&#123;&#123; pjax &#125;&#125; async src=&quot;https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">  &#123;%- if theme<span class="selector-class">.busuanzi_count</span><span class="selector-class">.total_visitors</span> %&#125;</span><br><span class="line">    &lt;span class=&quot;post-meta-item&quot; id=&quot;busuanzi_container_site_uv&quot; style=&quot;display: inline;&quot;&gt;来过本站的小可爱有</span><br><span class="line">      &lt;span class=&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">        &lt;i class=&quot;fa fa-&#123;&#123; theme.busuanzi_count.total_visitors_icon &#125;&#125;&quot;&gt;&lt;/i&gt;</span><br><span class="line">      &lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">      &lt;span class=&quot;site-uv&quot; title=&quot;&#123;&#123; __(&#x27;footer.total_visitors&#x27;) &#125;&#125;&quot;&gt;</span><br><span class="line">        &lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;个呐&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">    &lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">  &#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;%- if theme<span class="selector-class">.busuanzi_count</span><span class="selector-class">.total_visitors</span> and theme<span class="selector-class">.busuanzi_count</span><span class="selector-class">.total_views</span> %&#125;</span><br><span class="line">    &lt;span class=&quot;post-meta-divider&quot;&gt;&lt;/span&gt;</span><br><span class="line">  &#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;%- if theme<span class="selector-class">.busuanzi_count</span><span class="selector-class">.total_views</span> %&#125;</span><br><span class="line">    &lt;span class=&quot;post-meta-item&quot; id=&quot;busuanzi_container_site_pv&quot; style=&quot;display: inline;&quot;&gt;本站一共被访问了</span><br><span class="line">      &lt;span class=&quot;post-meta-item-icon&quot;&gt;</span><br><span class="line">        &lt;i class=&quot;fa fa-&#123;&#123; theme.busuanzi_count.total_views_icon &#125;&#125;&quot;&gt;&lt;/i&gt;</span><br><span class="line">      &lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">      &lt;span class=&quot;site-pv&quot; title=&quot;&#123;&#123; __(&#x27;footer.total_views&#x27;) &#125;&#125;&quot;&gt;</span><br><span class="line">        &lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;遍&lt;/span&gt;</span><br><span class="line">    &lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">  &#123;%- endif %&#125;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&#123;%- endif %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在主题的配置文件中找到<code>busuanzi_count</code>  改成下面的样子即可启用卜算子统计</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">busuanzi_count:</span><br><span class="line">  enable: true</span><br><span class="line">  total_visitors: true</span><br><span class="line">  total_visitors_icon: user-circle-o</span><br><span class="line">  total_views: true</span><br><span class="line">  total_views_icon: eye</span><br><span class="line">  post_views: true</span><br><span class="line">  post_views_icon: eye</span><br></pre></td></tr></table></figure><h3 id="添加cnzz-统计"><a href="#添加cnzz-统计" class="headerlink" title="添加cnzz 统计"></a>添加cnzz 统计</h3><p>将下方的代码覆盖主题目录下的 <code>layout/_third-party/statistics/cnzz-analytics.swig</code>文件,  删掉注释</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;%- <span class="keyword">if</span> theme.cnzz_siteid %&#125;</span><br><span class="line"><span class="comment">//在下面粘贴从cnzz官网复制下来的js代码</span></span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;https://v1.cnzz.com/z_stat.php?id=1278918852&amp;web_id=1278918852&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&#123;%- endif %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>然后在主题目录下的配置文件<code>_config.yml</code>中的 <code>cnzz_siteid:</code> 后面填上你获取的webid即可</strong></p><h2 id="添加自定义友情链接"><a href="#添加自定义友情链接" class="headerlink" title="添加自定义友情链接"></a>添加自定义友情链接</h2><h3 id="新增友链专用页面"><a href="#新增友链专用页面" class="headerlink" title="新增友链专用页面"></a>新增友链专用页面</h3><p>在命令行输入<code>hexo new page links</code> </p><h3 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h3><p>在主题配置文件<code>_config.yml</code>中<code>menu</code> 下添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">links: /links/ || link</span><br></pre></td></tr></table></figure><p><code>/themes/next/languages/zh-CN.yml</code>文件中menu下增加中文描述</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">links: 友链</span><br></pre></td></tr></table></figure><h3 id="新增links-swig-页"><a href="#新增links-swig-页" class="headerlink" title="新增links.swig 页"></a>新增<code>links.swig</code> 页</h3><p>在主目录 输入命令行新增一个swig文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /themes/next/layout/links.swig </span><br></pre></td></tr></table></figure><p>然后在往该文件写入下面的代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">  &#123;######################&#125;</span><br><span class="line">  &#123;### LINKS BLOCK ###&#125;</span><br><span class="line">  &#123;######################&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;links&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            #links&#123;</span><br><span class="line"><span class="css">               <span class="attribute">margin-top</span>: <span class="number">5rem</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            .links-content&#123;</span><br><span class="line"><span class="css">                <span class="attribute">margin-top</span>:<span class="number">1rem</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">            <span class="selector-class">.link-navigation</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">content</span>: <span class="string">&quot; &quot;</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">                <span class="attribute">clear</span>: both;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            .card &#123;</span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">transition-duration</span>: <span class="number">0.15s</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">display</span>:flex;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span><span class="selector-pseudo">:nth-child</span>(odd) &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">float</span>: left;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span><span class="selector-pseudo">:nth-child</span>(even) &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">float</span>: right;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span></span><br><span class="line"><span class="css">                <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">6px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.12</span>), <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.04</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">border</span>:none;</span></span><br><span class="line">            &#125;</span><br><span class="line">            .card .ava &#123;</span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">3rem</span><span class="meta">!important</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">height</span>: <span class="number">3rem</span><span class="meta">!important</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">margin</span>:<span class="number">0</span><span class="meta">!important</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">margin-right</span>: <span class="number">1em</span><span class="meta">!important</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">border-radius</span>:<span class="number">4px</span>;</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            .card .card-header &#123;</span><br><span class="line"><span class="css">                <span class="attribute">font-style</span>: italic;</span></span><br><span class="line"><span class="css">                <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="css">                <span class="attribute">width</span>: <span class="number">236px</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.card-header</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">font-style</span>: normal;</span></span><br><span class="line"><span class="css">                <span class="attribute">color</span>: <span class="number">#2bbc8a</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="css">                <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.card-header</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="attribute">color</span>: <span class="number">#d480aa</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line">            &#125;</span><br><span class="line">            .card .card-header .info &#123;</span><br><span class="line"><span class="css">                <span class="attribute">font-style</span>:normal;</span></span><br><span class="line"><span class="css">                <span class="attribute">color</span>:<span class="number">#a3a3a3</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">font-size</span>:<span class="number">14px</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">min-width</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">                <span class="attribute">text-overflow</span>: ellipsis;</span></span><br><span class="line"><span class="css">                <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="css">                <span class="attribute">white-space</span>: nowrap;</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;links-content&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;link-navigation&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                &#123;% for link in theme.mylinks %&#125;</span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;ava&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123; link.avatar &#125;&#125;&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-header&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; link.site &#125;&#125;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>@ &#123;&#123; link.nickname &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span>&#123;&#123; link.info &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;&#123; page.content &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &#123;##########################&#125;</span><br><span class="line">  &#123;### END LINKS BLOCK ###&#125;</span><br><span class="line">  &#123;##########################&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="修改page-swig"><a href="#修改page-swig" class="headerlink" title="修改page.swig"></a>修改page.swig</h3><p>修改 <code>/themes/next/layout/page.swig</code> 文件，在</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#&#125;&#123;% elif page.type &#x3D;&#x3D;&#x3D; &quot;tags&quot; and not page.title %&#125;&#123;#</span><br><span class="line">    #&#125;&#123;&#123; __(&#39;title.tag&#39;) + page_title_suffix &#125;&#125;&#123;#</span><br></pre></td></tr></table></figure><p>下面添加下面的代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 友情链接--&gt;</span><br><span class="line">#&#125;&#123;% elif page.type &#x3D;&#x3D;&#x3D; &#39;links&#39; and not page.title %&#125;&#123;#</span><br><span class="line">  #&#125;&#123;&#123; __(&#39;title.links&#39;) + page_title_suffix &#125;&#125;&#123;#</span><br></pre></td></tr></table></figure><p>继续，在最后一行添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 友情链接--&gt;</span><br><span class="line">&#123;% elif page.type &#x3D;&#x3D;&#x3D; &#39;links&#39; %&#125;</span><br><span class="line">    &#123;% include &#39;links.swig&#39; %&#125;</span><br></pre></td></tr></table></figure><p>调用刚刚添加的代码</p><h3 id="最后，现在在主题的配置文件末尾处新增友链的配置"><a href="#最后，现在在主题的配置文件末尾处新增友链的配置" class="headerlink" title="最后，现在在主题的配置文件末尾处新增友链的配置"></a>最后，现在在主题的配置文件末尾处新增友链的配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mylinks:</span><br><span class="line"></span><br><span class="line">- nickname: #友链名称</span><br><span class="line">  avatar: #友链头像</span><br><span class="line">  site: #友链地址</span><br><span class="line">  info:  #友链说明</span><br><span class="line">  </span><br><span class="line">- nickname: #友链名称</span><br><span class="line">  avatar: #友链头像</span><br><span class="line">  site: #友链地址</span><br><span class="line">  info:  #友链说明</span><br></pre></td></tr></table></figure><h2 id="添加评论系统"><a href="#添加评论系统" class="headerlink" title="添加评论系统"></a>添加评论系统</h2><p>这里我们以<code>gitalk</code> 为例</p><h3 id="在github上注册oauth应用"><a href="#在github上注册oauth应用" class="headerlink" title="在github上注册oauth应用"></a>在github上注册oauth应用</h3><p> <a href="https://github.com/settings/applications/new">点我开始传送</a></p><div class="table-container"><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>Application name</td><td>应用名字，内容随意</td></tr><tr><td>Homepage URL</td><td>博客域名</td></tr><tr><td>Application description</td><td>应用的简介，内容随意</td></tr><tr><td>Authorization callback URL</td><td>回调地址，填上博客域名就行</td></tr><tr><td></td></tr></tbody></table></div><h3 id="修改主题目录下的-config-yml"><a href="#修改主题目录下的-config-yml" class="headerlink" title="修改主题目录下的 _config.yml"></a>修改主题目录下的 <code>_config.yml</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">gitalk:</span><br><span class="line">  enable: true</span><br><span class="line">  github_id: 3207754367 # github的用户名，只要名字</span><br><span class="line">  repo: 3207754367.github.io # 指定一个用于储存评论的仓库</span><br><span class="line">  client_id: 719aee584a7fec60d13d # 填上获取的 Client ID</span><br><span class="line">  client_secret: 8c79f63e83dfe84de930b63258cea108a24c4985  # 填上获取的Client Secret</span><br><span class="line">  admin_user: 3207754367 # 添加管理员用户名，只有管理员有权初始化评论区，你必须用这个帐号登录一次，用于初始化</span><br><span class="line">  distraction_free_mode: false # Facebook-like distraction free mode</span><br><span class="line">  # Gitalk&#39;s display language depends on user&#39;s browser or system environment</span><br><span class="line">  # If you want everyone visiting your site to see a uniform language, you can set a force language value</span><br><span class="line">  # Available values: en | es-ES | fr | ru | zh-CN | zh-TW</span><br><span class="line">  language: zh-CN</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">next主题之各种优化</summary>
    
    
    
    <category term="hexo" scheme="http://blog.mpcloud.top/categories/hexo/"/>
    
    
  </entry>
  
  <entry>
    <title>Android上跳过google锁</title>
    <link href="http://blog.mpcloud.top/posts/48f1e393.html"/>
    <id>http://blog.mpcloud.top/posts/48f1e393.html</id>
    <published>2020-05-17T01:18:22.000Z</published>
    <updated>2021-04-29T20:58:58.060Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><p>安装过Gapps套件的小伙伴应该都知道Google开机引导锁,  这其实是因为android的frp机制(factory reset protection)导致的,  android手机恢复出厂设置的操作分为信任和不信任操作: 在解锁装态通过设置里的恢复出厂设置选项进行重置的操作,  属于信任操作.  所以, 在关机状态下通过Fastboot或recovery中进行的重置操作, 就属于不信任操作.  而使用不信任操作进行恢复出厂设置, 开机就会触发frp机制导致设备被锁. 现在让我们来跳过这烦人的验证吧！</p><p>禁用出厂重置保护:</p><h2 id="开机状态下退出Google账户"><a href="#开机状态下退出Google账户" class="headerlink" title="开机状态下退出Google账户"></a>开机状态下退出Google账户</h2><p><strong>避免进行不信任操作, 在刷机前就将Google帐号从系统中移除.</strong></p><p>使<code>出厂重置保护(Factory Reset Protection)</code>变成禁用状态.  如果要禁用出厂重置保护, DPC必须设置<code>disableFactoryResetProtectionAdmin</code>键值为<code>true</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">`DevicePolicyManager.setApplicationRestrictions()` 中的</span><br><span class="line">`disableFactoryResetProtectionAdmin`默认值为`<span class="literal">false</span>`</span><br><span class="line"> 禁用FRP只需要将值改为`<span class="literal">true</span>`就行了. </span><br><span class="line">DPC根据它的值来发送广播通知Google Play服务</span><br><span class="line">`com.google.android.gms.auth.FRP_CONFIG_CHANGED` 作出相应改变</span><br></pre></td></tr></table></figure><p>相关文档: <a href="https://developer.android.google.cn/work/dpc/security?hl=fi#disable_factory_reset_protection">google开发者文档</a></p><h2 id="顺时针点屏幕四角法"><a href="#顺时针点屏幕四角法" class="headerlink" title="顺时针点屏幕四角法"></a>顺时针点屏幕四角法</h2><p>这是Gapps套件专属过引导方法，连点屏幕四角就可跳过此引导（<strong>顺时针</strong>方向, 从左上角开始.  Google官方像素系的 Google Service Framework 没有此功能</p><h2 id="更改USER-SETUP-COMPLETE和DEVICE-PROVISIONED"><a href="#更改USER-SETUP-COMPLETE和DEVICE-PROVISIONED" class="headerlink" title="更改USER_SETUP_COMPLETE和DEVICE_PROVISIONED"></a>更改USER_SETUP_COMPLETE和DEVICE_PROVISIONED</h2><p>GoogleSetupWizard完成引导后会把这俩的值由0改为1, 所以我们先它一步在它前面把这俩值改成1就好了</p><ul><li>打开命令行窗口输入以下命令</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell settings put secure user_setup_complete 1</span><br><span class="line">adb shell settings put global device_provisioned 1</span><br><span class="line">adb shell reboot</span><br></pre></td></tr></table></figure><p>或者也可以直接删除<code>system/priv-app/SetupWizard</code>, 如果系统原来自带的Provision没有被Google家的SetupWizard覆盖, SetupWizard被删除后Provision会把这两个值直接设为1.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Provision：</span><br><span class="line"></span><br><span class="line">// Add a persistent setting to allow other apps to know the device has been provisioned.</span><br><span class="line">Settings.Global.putInt(getContentResolver(), Settings.Global.DEVICE_PROVISIONED, 1);</span><br><span class="line">Settings.Secure.putInt(getContentResolver(), Settings.Secure.USER_SETUP_COMPLETE, 1);</span><br></pre></td></tr></table></figure><h1 id="清空-config-或-frp-分区"><a href="#清空-config-或-frp-分区" class="headerlink" title="清空 config 或 frp 分区"></a>清空 config 或 frp 分区</h1><p>谷歌锁的状态是存放在这个分区上的，那我们只要把这个分区清空就好了。</p><p>由于此分区不存在文件系统，清空的方法是往这个分区里填满0即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=/dev/zero of=/dev/block/bootdevice/by-name/config</span><br></pre></td></tr></table></figure><p>或者: </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=/dev/zero of=/dev/block/bootdevice/by-name/frp</span><br></pre></td></tr></table></figure><p>还可以通过<code>fastboot erase frp</code> 或 <code>fastboot erase config</code> 命令来清除谷歌锁</p>]]></content>
    
    
    <summary type="html">跳过这该死的frp帐号锁</summary>
    
    
    
    <category term="Android" scheme="http://blog.mpcloud.top/categories/Android/"/>
    
    
  </entry>
  
  <entry>
    <title>Win10开启卓越模式</title>
    <link href="http://blog.mpcloud.top/posts/eb31b9c8.html"/>
    <id>http://blog.mpcloud.top/posts/eb31b9c8.html</id>
    <published>2020-05-15T08:27:32.000Z</published>
    <updated>2021-04-10T02:45:43.680Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><p>我们的windows10电脑中还隐藏了一个激进的性能模式: “卓越性能模式”，今天小编就教大家开启它<br><a href="https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=636593235,2377864621&amp;fm=173&amp;app=25&amp;f=JPEG?w=617&amp;h=123&amp;s=B025F1144FDBBE01686721860300E08B"></a><br><strong>检查系统版本，必须要保证你的系统版本在Windows 10 1803 以上</strong></p><p>在键盘上输入快捷键命令 <code>win + x</code> 在弹出的窗口中选择 <code>window Powershell (管理员)</code></p><p>现在输入下面的代码并回车运行即可开启系统隐藏的卓越性能模式<br><code>powercfg -duplicatescheme e9a42b02-d5df-448d-aa00-03f14749eb61</code></p><p>最后一步,现在在<strong>控制面板-硬件和声音-电源选项-隐藏的附加计划</strong> 里就出现了一个卓越性能选项，勾选该选项即可启用</p><p><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=2667518631,3432193644&amp;fm=173&amp;app=25&amp;f=JPEG?w=639&amp;h=417&amp;s=0910E412151A55CE10ECA1DA0000C0B1" alt=""></p><p><strong>本站不储存任何资源，所有资源均来自互联网</strong></p><p>喜欢的小伙伴们可以小小的打赏一下吗？ 金额随意，欢迎在留言区补充，提问，我们留言区见</p>]]></content>
    
    
    <summary type="html">开启win10电脑中隐藏的&quot;卓越性能模式&quot;</summary>
    
    
    
    <category term="win10" scheme="http://blog.mpcloud.top/categories/win10/"/>
    
    
  </entry>
  
  <entry>
    <title>Hexo初体验</title>
    <link href="http://blog.mpcloud.top/posts/786487f2.html"/>
    <id>http://blog.mpcloud.top/posts/786487f2.html</id>
    <published>2020-03-14T00:08:54.000Z</published>
    <updated>2021-04-28T06:38:45.043Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><p><strong>0. 安装Git Node.js npm</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git nodejs npm </span><br></pre></td></tr></table></figure><br>因为npm 官方默认源在墙外所以会出现没进度的情况，所以需要更换国内的淘宝源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry http://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><h2 id="1-安装Hexo"><a href="#1-安装Hexo" class="headerlink" title="1. 安装Hexo"></a>1. 安装Hexo</h2><p>Git Node.js npm 这些都安装完成后就可以安装今天的主角Hexo了<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><br>用hexo -v 查看一下版本确保已经安装就绪。<br>接下来初始化一下hexo<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init filename</span><br></pre></td></tr></table></figure><br> filename是你赋予hexo安装的文件夹<br>成功完成hexo的初始化应该是没有报错的，就像这样：<br><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://s1.ax1x.com/2020/03/14/8MyXfe.md.png" alt="成功初始化Hexo"><br>初始化后的目录是这样：<br><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://s1.ax1x.com/2020/03/14/8MyOYD.png" alt="Hexo目录"><br>如果是直接安装到当前目录下就可以不加filename参数<br>当然，当前文件夹是需要没有任何文件的，隐藏的文件或文件夹也不行，如果有就会报错：<br><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://s1.ax1x.com/2020/03/14/8Myz6A.png" alt="报错目录非空"><br>然后就是生成我们的博客文件：<br><code>hexo g</code><br><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://s1.ax1x.com/2020/03/14/8Myxld.md.png" alt="生成博客"><br>最后一步，部署到hexo本地服务器了：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><br><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://s1.ax1x.com/2020/03/14/8M6PTf.png" alt="部署到hexo本地服务器"></p><p><em>将hexo部署到GitHub</em></p><p><em>设置个人域名</em><br><em>发布文章</em></p>]]></content>
    
    
    <summary type="html">Hexo搭建个人博客的步骤</summary>
    
    
    
    <category term="hexo" scheme="http://blog.mpcloud.top/categories/hexo/"/>
    
    
  </entry>
  
  <entry>
    <title>王者农药修改超长昵称</title>
    <link href="http://blog.mpcloud.top/posts/6a2567a1.html"/>
    <id>http://blog.mpcloud.top/posts/6a2567a1.html</id>
    <published>2020-03-10T14:06:15.000Z</published>
    <updated>2021-04-28T06:58:15.851Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><span id="more"></span><h1 id="王者荣耀修改超长昵称会封号3天，昵称会被官方重置为“违规昵称-序列号”的形式-本质也是一种官方的”超长昵称“"><a href="#王者荣耀修改超长昵称会封号3天，昵称会被官方重置为“违规昵称-序列号”的形式-本质也是一种官方的”超长昵称“" class="headerlink" title="王者荣耀修改超长昵称会封号3天，昵称会被官方重置为“违规昵称+序列号”的形式,本质也是一种官方的”超长昵称“"></a>王者荣耀修改超长昵称会封号3天，昵称会被官方重置为“违规昵称+序列号”的形式,本质也是一种官方的”超长昵称“</h1><h2 id="需要准备的材料："><a href="#需要准备的材料：" class="headerlink" title="需要准备的材料："></a>需要准备的材料：</h2><ol><li>需要root权限</li><li>gg修改器</li><li>能够正常工作的大脑和操作</li></ol><p><em>下方的超长昵称</em><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">****************************************</span><br></pre></td></tr></table></figure><br>昵称最高63个字符</p><p>防王者荣耀修改内存时闪退方法：<br>删除<br><code>/data/data/com.tencent.tmgp.sgame/lib/libtersafe.so</code></p><p>GG修改器:<br>对游戏游戏隐藏 2 3 4</p><p>设置在A内存里面搜<br>搜D类数据1;12;86,400:9<br>改善12 为64<br>继续搜D类数据42;12::21<br>改善12，批量改成88</p><p>大功告成，现在去复制昵称就可以了<br><img src="https://s1.ax1x.com/2020/04/13/GX0DJ0.gif" data-original="https://s1.ax1x.com/2020/03/15/83Tx2j.jpg" alt="追封7天"></p>]]></content>
    
    
    <summary type="html">封号三天需要重新刷当前设备完整包或者卸载GG</summary>
    
    
    
    
  </entry>
  
</feed>
